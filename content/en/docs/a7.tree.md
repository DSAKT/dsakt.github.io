---
title: Trees
slug: trees
---

## **Tree in Kotlin**

A **Tree** is a hierarchical data structure consisting of nodes connected by edges, with one node designated as the root. Trees are used in applications such as database indexing, hierarchical data representation, and efficient searching.

Kotlin does not have built-in `Tree` data structures but provides classes like `TreeSet` and `TreeMap` from the Java Collections Framework, which are implemented as **Red-Black Trees** (a type of self-balancing binary search tree).

---

### **TreeSet in Kotlin**

A **`TreeSet`** is a collection that stores unique elements in a sorted order. It automatically sorts elements as they are added and is useful for maintaining sorted data.

#### **Features of TreeSet**

- Automatically maintains elements in natural or custom order.
- Ensures no duplicate elements.
- Provides logarithmic time complexity for operations like add, remove, and search.

#### **Using TreeSet**

```kotlin
import java.util.TreeSet

fun main() {
    val treeSet = TreeSet<Int>()
    treeSet.add(10)
    treeSet.add(5)
    treeSet.add(20)

    println(treeSet)  // Output: [5, 10, 20]

    treeSet.remove(10)
    println(treeSet)  // Output: [5, 20]

    val containsFive = treeSet.contains(5)
    println(containsFive)  // Output: true
}
```

#### **Key Methods of TreeSet**

- **`add(element)`**: Adds an element to the set.
- **`remove(element)`**: Removes an element from the set.
- **`contains(element)`**: Checks if an element exists in the set.
- **`first()` and `last()`**: Retrieves the smallest and largest elements, respectively.
- **`isEmpty()`**: Checks if the set is empty.

#### **Custom Comparator in TreeSet**

You can customize the sorting order by providing a comparator.

```kotlin
val customSet = TreeSet<Int>(compareByDescending { it })
customSet.addAll(listOf(10, 5, 20))
println(customSet)  // Output: [20, 10, 5]
```

---

### **TreeMap in Kotlin**

A **`TreeMap`** is a collection that maps keys to values, storing the entries in sorted order by keys. It is useful when you need a sorted map.

#### **Features of TreeMap**

- Maintains keys in sorted order.
- Allows custom sorting through a comparator.
- Ensures logarithmic time complexity for get, put, and remove operations.

#### **Using TreeMap**

```kotlin
import java.util.TreeMap

fun main() {
    val treeMap = TreeMap<String, Int>()
    treeMap["A"] = 1
    treeMap["C"] = 3
    treeMap["B"] = 2

    println(treeMap)  // Output: {A=1, B=2, C=3}

    treeMap.remove("B")
    println(treeMap)  // Output: {A=1, C=3}

    val value = treeMap["A"]
    println(value)  // Output: 1
}
```

#### **Key Methods of TreeMap**

- **`put(key, value)`**: Adds a key-value pair.
- **`get(key)`**: Retrieves the value associated with a key.
- **`remove(key)`**: Removes a key-value pair.
- **`firstKey()` and `lastKey()`**: Retrieves the smallest and largest keys, respectively.
- **`containsKey(key)`**: Checks if a key exists in the map.
- **`containsValue(value)`**: Checks if a value exists in the map.

#### **Custom Comparator in TreeMap**

You can customize the sorting of keys using a comparator.

```kotlin
val customMap = TreeMap<Int, String>(compareByDescending { it })
customMap[1] = "One"
customMap[3] = "Three"
customMap[2] = "Two"

println(customMap)  // Output: {3=Three, 2=Two, 1=One}
```

---

### **TreeSet vs TreeMap**

| **Feature**        | **TreeSet**                        | **TreeMap**                            |
| ------------------ | ---------------------------------- | -------------------------------------- |
| **Purpose**        | Stores unique elements in order   | Stores key-value pairs in order       |
| **Duplicates**     | Not allowed                       | Keys must be unique                   |
| **Sorting**        | Based on elements                 | Based on keys                         |
| **Implementation** | Backed by a Red-Black Tree        | Backed by a Red-Black Tree            |

---

### **Use Cases for Trees**

1. **TreeSet**: Use for maintaining a sorted, unique collection of elements, such as a leaderboard or sorted tags.
2. **TreeMap**: Use for maintaining a sorted map of key-value pairs, such as a dictionary or sorted configurations.

---

### **Conclusion**

`TreeSet` and `TreeMap` in Kotlin provide powerful tools for managing sorted collections and mappings. These structures ensure high performance with logarithmic time complexity and are well-suited for scenarios that require sorting and fast retrieval. They are backed by Red-Black Trees, ensuring balance and efficiency in operations.

